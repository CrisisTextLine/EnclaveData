---
- hosts: app-state-data-node
  become: true
  gather_facts: yes
  vars:
    server_name: app-state-data-node
    researchers:
      - name: "jennifer"
        user_password: "{{ lookup('password', 'credentials/app-state.jennifer length=15 encrypt=sha512_crypt') }}"
        vnc_password: "{{ lookup('password', 'credentials/app-state.jennifer length=15') }}"
        xdisplay: 0
      - name: "maggie"
        user_password: "{{ lookup('password', 'credentials/app-state.maggie length=15 encrypt=sha512_crypt') }}"
        vnc_password: "{{ lookup('password', 'credentials/app-state.maggie length=15') }}"
        xdisplay: 1
      - name: "will"
        user_password: "{{ lookup('password', 'credentials/app-state.will length=15 encrypt=sha512_crypt') }}"
        vnc_password: "{{ lookup('password', 'credentials/app-state.will length=15') }}"
        xdisplay: 2
      - name: "laura"
        user_password: "{{ lookup('password', 'credentials/app-state.laura length=15 encrypt=sha512_crypt') }}"
        vnc_password: "{{ lookup('password', 'credentials/app-state.laura length=15') }}"
        xdisplay: 3
  roles:
    - base-os
    - data-node
    - hostname
    - update-all
    - add-researcher
    - desktop
    - jupyter
  tasks:
  - name: Install Git
    yum: name=git state=present
